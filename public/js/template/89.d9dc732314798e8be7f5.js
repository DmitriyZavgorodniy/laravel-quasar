webpackJsonp([89],{"0pAJ":function(e,r,t){var a=t("sQnb");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("079c1c91",a,!0,{})},"1OWu":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("5NBm"),s=t.n(a),o=t("uQwS"),n=t.n(o),i=t("NYxO"),l=t("6rV0"),u=t.n(l),c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};r.default={name:"welcome-toolbar",components:{LangManager:u.a,Login:s.a,Register:n.a},computed:c({},Object(i.c)("auth",["isAuth","userInfo"])),methods:c({},Object(i.b)("auth",["showRegister","showLogin","logout"]))}},"1zse":function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("q-modal",{model:{value:e.show,callback:function(r){e.show=r},expression:"show"}},[t("form",{staticClass:"layout-padding",on:{submit:function(r){return r.preventDefault(),e.validateForm(r)}}},[t("q-field",{staticClass:"q-mb-md",attrs:{icon:"perm identity",autofocus:"",error:e.errors.has("username"),"error-label":e.errors.first("username")}},[t("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.form_rules.username,expression:"form_rules.username"}],attrs:{name:"username",type:"text","data-vv-as":e.$t("register.form.username"),"stack-label":e.$t("register.form.username")},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),e._v(" "),t("q-field",{staticClass:"q-mb-md",attrs:{error:e.errors.has("email"),"error-label":e.errors.first("email"),icon:"email"}},[t("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.form_rules.email,expression:"form_rules.email"}],ref:"email",attrs:{name:"email",type:"email","data-vv-as":e.$t("register.form.email"),"stack-label":e.$t("register.form.email")},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),t("q-field",{staticClass:"q-mb-md",attrs:{error:e.errors.has("email_confirmation"),"error-label":e.errors.first("email_confirmation"),icon:"email"}},[t("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.form_rules.email_confirmation,expression:"form_rules.email_confirmation"}],attrs:{name:"email_confirmation",type:"email","data-vv-as":e.$t("register.form.email_confirmation"),"stack-label":e.$t("register.form.email_confirmation")},model:{value:e.form.email_confirmation,callback:function(r){e.$set(e.form,"email_confirmation",r)},expression:"form.email_confirmation"}})],1),e._v(" "),t("q-field",{staticClass:"q-mb-md",attrs:{error:e.errors.has("password"),"error-label":e.errors.first("password"),icon:"lock"}},[t("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.form_rules.password,expression:"form_rules.password"}],ref:"password",staticClass:"q-mb-md",attrs:{name:"password",type:"password","data-vv-as":e.$t("register.form.password"),"stack-label":e.$t("register.form.password")},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("q-field",{staticClass:"q-mb-md",attrs:{error:e.errors.has("password_confirmation"),"error-label":e.errors.first("password_confirmation"),icon:"lock"}},[t("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.form_rules.password_confirmation,expression:"form_rules.password_confirmation"}],attrs:{name:"password_confirmation",type:"password","data-vv-as":e.$t("register.form.password_confirmation"),"stack-label":e.$t("register.form.password_confirmation")},model:{value:e.form.password_confirmation,callback:function(r){e.$set(e.form,"password_confirmation",r)},expression:"form.password_confirmation"}})],1),e._v(" "),t("div",{staticClass:"row justify-center q-mt-md"},[t("q-btn",{attrs:{type:"submit",color:"primary",disabled:e.errors.any(),label:e.$t("register.title")}})],1)],1),e._v(" "),t("q-inner-loading",{attrs:{visible:e.loader}},[t("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)},staticRenderFns:[]}},"2m5f":function(e,r,t){var a=t("VU/8")(t("1OWu"),t("dnpC"),!1,null,null,null);e.exports=a.exports},"5NBm":function(e,r,t){var a=t("VU/8")(t("7U2M"),t("g5iB"),!1,function(e){t("E7Os")},"data-v-17ebd2d5",null);e.exports=a.exports},"5d0u":function(e,r,t){(e.exports=t("FZ+f")(!1)).push([e.i,"",""])},"5gDK":function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("q-select",{attrs:{options:e.list},model:{value:e.language,callback:function(r){e.language=r},expression:"language"}})],1)},staticRenderFns:[]}},"6rV0":function(e,r,t){var a=t("VU/8")(t("r6jQ"),t("5gDK"),!1,function(e){t("6zoM")},"data-v-20138fab",null);e.exports=a.exports},"6zoM":function(e,r,t){var a=t("Re6w");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("50e4d994",a,!0,{})},"7U2M":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("NYxO"),s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};r.default={name:"login",$_veeValidate:{validator:"new"},computed:s({},Object(a.d)("auth",["show_login"]),{show:{get:function(){return this.show_login||this.clean(),this.show_login},set:function(e){this.showLogin(e)}}}),watch:{"form.username":function(e){this.errors.firstByRule("password","auth")&&this.errors.remove("password")},"form.password":function(e){this.errors.firstByRule("username","auth")&&this.errors.remove("username")}},methods:s({},Object(a.b)("auth",["showLogin","setAuthStatus","reloadAuthStatus"]),{validateForm:function(){var e=this;this.$validator.validateAll().then(function(r){if(r)return e.login(),!1}).catch(function(){})},login:function(){var e=this;this.reloadAuthStatus(),this.loader=!0,this.$axios({method:"post",url:this.$master.api("/oauth/token"),data:this.form}).then(function(r){e.setAuthStatus(!0),e.show=!1,e.$q.notify({message:e.$t("login.success_login"),type:"positive"})}).catch(function(r){var t=e.$master.hasErrors(r);if(t){var a=e.$master.getValue(r,["response","data","message"]),s=a,o=!0,n=!1,i=void 0;try{for(var l,u=Object.keys(t)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;t.hasOwnProperty(c)&&(s="invalid_credentials"===a?"auth":c,e.errors.add({field:c,msg:t[c][0],rule:s}))}}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}}}).finally(function(){e.loader=!1})},clean:function(){var e=this;this.form={username:null,password:null,grant_type:"password"},setTimeout(function(){e.errors.clear()},100)}}),data:function(){return{loader:!1,form:{username:null,password:null,grant_type:"password"},form_rules:{username:"required|max:50",password:"required|min:8"}}}}},E7Os:function(e,r,t){var a=t("5d0u");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("1406b680",a,!0,{})},Re6w:function(e,r,t){(e.exports=t("FZ+f")(!1)).push([e.i,"",""])},dnpC:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("q-toolbar",{attrs:{color:"blue-grey-14"}},[t("q-toolbar-title",[t("span",[e._v("Laravel with Quasar Framework (SPA) by Manfred047")])]),e._v(" "),t("lang-manager"),e._v(" "),t("q-btn",{attrs:{flat:"",dense:"",label:"See 404"},on:{click:function(r){e.$router.replace({name:"e404"})}}}),e._v(" "),e.isAuth?t("q-btn",{attrs:{flat:"",dense:"",label:e.userInfo.username},on:{click:function(r){e.$router.replace({name:"user.index"})}}}):t("q-btn",{attrs:{flat:"",dense:"",label:"Log in"},on:{click:function(r){e.showLogin(!0)}}}),e._v(" "),e.isAuth?t("q-btn",{attrs:{flat:"",dense:"",label:"Sign out"},on:{click:function(r){e.logout()}}}):t("q-btn",{attrs:{flat:"",dense:"",label:"Sign in"},on:{click:function(r){e.showRegister(!0)}}})],1),e._v(" "),t("login"),e._v(" "),t("register")],1)},staticRenderFns:[]}},g5iB:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("q-modal",{model:{value:e.show,callback:function(r){e.show=r},expression:"show"}},[t("form",{staticClass:"layout-padding",on:{submit:function(r){return r.preventDefault(),e.validateForm(r)}}},[t("q-field",{staticClass:"q-mb-md",attrs:{error:e.errors.has("username"),"error-label":e.errors.first("username"),icon:"perm identity",autofocus:""}},[t("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.form_rules.username,expression:"form_rules.username"}],ref:"username",attrs:{name:"username",type:"text","data-vv-as":e.$t("login.form.username"),"stack-label":e.$t("login.form.username")},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),e._v(" "),t("q-field",{attrs:{error:e.errors.has("password"),"error-label":e.errors.first("password"),icon:"lock"}},[t("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.form_rules.password,expression:"form_rules.password"}],ref:"password",attrs:{name:"password",type:"password","data-vv-as":e.$t("login.form.password"),"stack-label":e.$t("login.form.password")},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("div",{staticClass:"row justify-center q-mt-md"},[t("q-btn",{attrs:{type:"submit",color:"primary",disabled:e.errors.any(),label:e.$t("login.title")}})],1)],1),e._v(" "),t("q-inner-loading",{attrs:{visible:e.loader}},[t("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)},staticRenderFns:[]}},"q+vd":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("NYxO");var s,o=(s=function(){var e=!1,r=[];return{resolved:function(){return e},resolve:function(t){if(!e){e=!0;for(var a=0,s=r.length;a<s;a++)r[a](t)}},promise:{then:function(t){e?t():r.push(t)}}}}(),{notify:function(){s.resolve()},wait:function(){return s.promise},render:function(e,r,t){this.wait().then(function(){t(window.grecaptcha.render(e,r))})},reset:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(e)}))},execute:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(e)}))},checkRecaptchaLoad:function(){window.hasOwnProperty("grecaptcha")&&window.grecaptcha.hasOwnProperty("render")&&this.notify()},assertLoaded:function(){if(!s.resolved())throw new Error("ReCAPTCHA has not been loaded")}});"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=o.notify);var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i=(String,String,String,String,String,String,Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e});r.default={name:"register",$_veeValidate:{validator:"new"},components:{},mounted:function(){},computed:i({},Object(a.d)("auth",["show_register"]),Object(a.c)("lang",["lang"]),{show:{get:function(){return this.show_register||this.clean(),this.show_register},set:function(e){this.showRegister(e)}}}),watch:{lang:function(e){}},methods:i({},Object(a.b)("auth",["showRegister","setAuthStatus","reloadAuthStatus"]),{validateForm:function(){var e=this;this.$validator.validateAll().then(function(r){if(r)return e.register(),!1}).catch(function(){})},register:function(){var e=this;this.loader=!0,this.$axios({method:"post",url:this.$master.api("/register"),data:this.form}).then(function(r){e.show=!1,"ok"===r.data.success&&(e.reloadAuthStatus(),e.setAuthStatus(!0)),e.$q.notify({message:e.$t("register.success_register"),type:"positive"})}).catch(function(r){var t=e.$master.hasErrors(r);if(t){var a=!0,s=!1,o=void 0;try{for(var n,i=Object.keys(t)[Symbol.iterator]();!(a=(n=i.next()).done);a=!0){var l=n.value;t.hasOwnProperty(l)&&e.errors.add({field:l,msg:t[l][0],rule:l})}}catch(e){s=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(s)throw o}}}}).finally(function(){e.loader=!1})},clean:function(){var e=this;this.form={username:null,email:null,email_confirmation:null,password:null,password_confirmation:null,recaptcha:null},setTimeout(function(){e.errors.clear()},100)},onVerify:function(e){this.form.recaptcha=e},onExpired:function(){this.form.recaptcha=null},resetRecaptcha:function(){"recaptcha"in this.$refs&&this.$refs.recaptcha.reset()}}),data:function(){return{loader:!1,form:{email:null,email_confirmation:null,password:null,password_confirmation:null,username:null},form_rules:{username:"required|alpha_num|max:50",email:"required|email|max:50",email_confirmation:"required|confirmed:email",password:{required:!0,min:8,regex:/(^[\S]{8,}$)/},password_confirmation:"required|confirmed:password"}}}}},r6jQ:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("NYxO"),s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};r.default={name:"LangManager",computed:s({},Object(a.c)("lang",["list","lang"]),{language:{get:function(){return this.lang},set:function(e){this.setLanguage(e)}}}),methods:s({},Object(a.b)("lang",["setLanguage"]))}},sQnb:function(e,r,t){(e.exports=t("FZ+f")(!1)).push([e.i,"",""])},uQwS:function(e,r,t){var a=t("VU/8")(t("q+vd"),t("1zse"),!1,function(e){t("0pAJ")},"data-v-07323acf",null);e.exports=a.exports}});